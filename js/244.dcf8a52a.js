"use strict";(globalThis["webpackChunkshell_org"]=globalThis["webpackChunkshell_org"]||[]).push([[244],{37244:(e,t,l)=>{l.r(t),l.d(t,{default:()=>dt});var a=l(59835),o=l(86970),n=l(27164),s=l.n(n);const r=e=>((0,a.dD)("data-v-ffd09390"),e=e(),(0,a.Cn)(),e),i={class:"row items-start q-gutter-xs justify-evenly q-pa-none",style:{width:"100%","max-width":"800px","min-width":"300px"}},c={class:"play full-width q-py-md q-px-none"},u={class:"result row text-center items-center justify-center q-py-md q-px-none"},d={key:0,class:"column q-py-none q-gutter-xs"},m={class:"gt-sm text-big text-mono"},p=r((()=>(0,a._)("div",{class:"text-bold"},"Lucky",-1))),w={key:1,class:"column q-py-none q-gutter-xs"},g={class:"gt-sm text-big text-mono"},v={class:"lt-md text-change text-mono"},h=r((()=>(0,a._)("div",{class:"text-bold"},"Lucky",-1))),f=r((()=>(0,a._)("div",{class:"col-3"},null,-1))),y={class:"column q-py-none q-gutter-xs"},b={class:"gt-sm text-big text-mono"},x={class:"lt-md text-change text-mono"},_=r((()=>(0,a._)("div",{class:"text-bold"},"Target",-1))),k={class:"settings row q-gutter-xs q-px-none"},W={class:"column text-center text-bold col"},q=(0,a.Uk)(" Multiplier "),C={class:"column text-center text-bold col"},B={class:"column text-center text-bold col"},S=(0,a.Uk)(" Win Chance "),z={class:"slider full-width q-py-md q-px-none"},I=(0,a.Uk)(" 0 "),U=(0,a.Uk)(" 99 "),H={class:"row items-center q-pt-none q-px-none"},T={class:"wager col-12 col-sm-9"},A={class:"q-pt-md"},P=["src"],Z=(0,a.Uk)(" Points "),O=r((()=>(0,a._)("img",{src:s()},null,-1))),Q=(0,a.Uk)(" TT Swap "),D={class:"roll col-12 col-sm-3"},N=(0,a.Uk)(" Start Roll "),j={class:"share column"},V={class:"row text-left full-width q-pt-xs",style:{"z-index":"999",height:"10px"}},E={style:{"font-size":"xx-small"},class:"cursor-pointer"},F=(0,a.Uk)(" Link Copied "),R={class:"history full-width q-py-md q-px-none"},M={class:"my-table-details"},G={class:"row items-center no-wrap q-gutter-xs"},L={class:"text-mono text-h6"},J=["src"],Y={class:"my-table-details"},$={class:"text-mono"},K={key:0,class:"not-greater-lesser"},X={class:"my-table-details"},ee={class:"row items-center no-wrap q-gutter-xs"},te={class:"text-mono text-h6"},le=["src"],ae={class:"my-table-details"},oe={class:"row items-center no-wrap"},ne={class:"text-bold text-mono"},se={class:"my-table-details"},re={class:"row items-center no-wrap q-gutter-xs"},ie={class:"text-mono text-h6"},ce=["src"],ue={class:"my-table-details"},de={class:"text-mono"},me={key:0,class:"not-greater-lesser"},pe={class:"my-table-details"},we={class:"row items-center no-wrap q-gutter-xs"},ge={class:"text-mono text-h6"},ve=["src"],he={class:"my-table-details"},fe={class:"row items-center no-wrap"},ye={class:"text-bold text-mono"},be=r((()=>(0,a._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),xe=r((()=>(0,a._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function _e(e,t,l,n,s,r){const _e=(0,a.up)("q-btn"),ke=(0,a.up)("q-icon"),We=(0,a.up)("q-item-section"),qe=(0,a.up)("q-slider"),Ce=(0,a.up)("q-item"),Be=(0,a.up)("q-avatar"),Se=(0,a.up)("q-list"),ze=(0,a.up)("q-menu"),Ie=(0,a.up)("q-input"),Ue=(0,a.up)("q-banner"),He=(0,a.up)("q-popup-proxy"),Te=(0,a.up)("q-tab"),Ae=(0,a.up)("q-tabs"),Pe=(0,a.up)("q-th"),Ze=(0,a.up)("q-tr"),Oe=(0,a.up)("q-td"),Qe=(0,a.up)("q-table"),De=(0,a.up)("q-tab-panel"),Ne=(0,a.up)("q-tab-panels"),je=(0,a.up)("q-space"),Ve=(0,a.up)("q-card-section"),Ee=(0,a.up)("q-card-actions"),Fe=(0,a.up)("q-card"),Re=(0,a.up)("q-dialog"),Me=(0,a.up)("q-page"),Ge=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(Me,{class:"row items-start justify-evenly"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",c,[(0,a._)("div",u,[e.betting?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",m,(0,o.zw)(e.randomeStr),1),p])):((0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("div",g,(0,o.zw)(e.lucky.toString().padStart(2,"0")),1),(0,a._)("div",v,(0,o.zw)(e.lucky.toString().padStart(2,"0")),1),h])),f,(0,a._)("div",y,[(0,a._)("div",b,(0,o.zw)(e.target.toString().padStart(2,"0")),1),(0,a._)("div",x,(0,o.zw)(e.target.toString().padStart(2,"0")),1),_])]),(0,a._)("div",k,[(0,a._)("div",W,[q,(0,a.Wm)(_e,{"no-caps":"",class:"text-bold text-larger text-mono bg-glass"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(parseFloat(e.payout.toPrecision(5)))+"x ",1)])),_:1})]),(0,a._)("div",C,[(0,a._)("a",null,[(0,a.Uk)((0,o.zw)(e.rollOver?"Roll Over":"Roll Under")+" ",1),(0,a.Wm)(ke,{name:"las la-sync"})]),(0,a.Wm)(_e,{class:"text-bold text-larger text-mono bg-glass",onClick:t[0]||(t[0]=t=>e.checkTarget())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.rollOver?"＞":"＜")+" "+(0,o.zw)(e.target+" "),1)])),_:1})]),(0,a._)("div",B,[S,(0,a.Wm)(_e,{class:"text-bold text-larger text-mono bg-glass"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(parseFloat(e.chance.toPrecision(6)))+"% ",1)])),_:1})])]),(0,a._)("div",z,[(0,a.Wm)(Ce,null,{default:(0,a.w5)((()=>[(0,a.Wm)(We,{class:"text-mono",side:""},{default:(0,a.w5)((()=>[I])),_:1}),(0,a.Wm)(We,null,{default:(0,a.w5)((()=>[(0,a.Wm)(qe,{"thumb-color":"white",modelValue:e.target,"onUpdate:modelValue":t[1]||(t[1]=t=>e.target=t),"track-size":"8px",min:e.rollOver?4:1,max:e.rollOver?98:95,"inner-min":e.rollOver?4:1,"inner-max":e.rollOver?98:95,color:e.rollOver?"negative":"positive","track-color":e.rollOver?"positive":"negative"},null,8,["modelValue","min","max","inner-min","inner-max","color","track-color"])])),_:1}),(0,a.Wm)(We,{class:"text-mono",side:""},{default:(0,a.w5)((()=>[U])),_:1})])),_:1})]),(0,a._)("div",H,[(0,a._)("div",T,[(0,a.Wm)(Ce,null,{default:(0,a.w5)((()=>[(0,a.Wm)(We,{class:"column q-gutter-xs",side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_e,{class:"full-width text-mono",size:"xs",outline:"",label:"MAX",onClick:t[2]||(t[2]=t=>e.updateWager(1))}),(0,a.Wm)(_e,{class:"full-width text-mono",size:"xs",outline:"",label:"MIN",onClick:t[3]||(t[3]=t=>e.updateWager(2))})])),_:1}),(0,a.Wm)(We,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ie,{filled:"",type:"number",modelValue:e.wager,"onUpdate:modelValue":t[5]||(t[5]=t=>e.wager=t),modelModifiers:{number:!0},debounce:"200",label:"Bet Amount:","stack-label":"",onChange:t[6]||(t[6]=t=>e.updateWager(0)),class:"full-width text-h6 text-mono"},{append:(0,a.w5)((()=>[(0,a._)("div",A,[(0,a.Wm)(_e,{dense:"",flat:"",color:"white",onClick:t[4]||(t[4]=t=>e.getAllAllowance())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.game.symbol)+" ",1),(0,a.Wm)(ke,{class:"q-pl-sm",name:"img:tokens/"+e.game.symbol+".png"},null,8,["name"]),(0,a.Wm)(ke,{class:"q-pl-sm",name:"las la-angle-down",size:"12px",color:"grey"}),(0,a.Wm)(ze,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.store.token,(t=>((0,a.wg)(),(0,a.j4)(Se,{key:t,style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(Ce,{clickable:"",class:"q-pl-xs",onClick:l=>e.store.selectedToken=t.symbol},{default:(0,a.w5)((()=>[(0,a.Wm)(We,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Be,{size:"md"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"tokens/"+t.symbol+".png"},null,8,P)])),_:2},1024)])),_:2},1024),(0,a.Wm)(We,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.points)+"x ",1)])),_:2},1024),(0,a.Wm)(We,{side:"",style:{width:"50px"}},{default:(0,a.w5)((()=>[Z])),_:1})])),_:2},1032,["onClick"])),[[Ge]])])),_:2},1024)))),128)),(0,a.Wm)(_e,{class:"full-width bg-glass","no-caps":"",flat:"",align:"around","no-wrap":"",href:"https://ttswap.space/#/swap/0x05db20427bbce9f356422db8ca65097b11fbaff8"},{default:(0,a.w5)((()=>[(0,a.Wm)(ke,{size:"sm"},{default:(0,a.w5)((()=>[O])),_:1}),Q])),_:1})])),_:1})])),_:1})])])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(We,{class:"column q-gutter-xs",side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_e,{class:"full-width text-mono",size:"xs",outline:"","no-caps":"",label:"2x",onClick:t[7]||(t[7]=t=>e.updateWager(3))}),(0,a.Wm)(_e,{class:"full-width text-mono",size:"xs",outline:"","no-caps":"",label:"x/2",onClick:t[8]||(t[8]=t=>e.updateWager(4))})])),_:1})])),_:1})]),(0,a._)("div",D,[(0,a.Wm)(_e,{"no-caps":"",color:"primary",class:"full-width text-bold text-h6",onClick:t[9]||(t[9]=t=>e.startRoll()),loading:e.betting},{default:(0,a.w5)((()=>[N])),_:1},8,["loading"])])])]),(0,a._)("div",j,[(0,a._)("div",V,[(0,a.Wm)(_e,{class:"text-mono col-12 text-left",align:"left",size:"10px",flat:"",dense:"","no-caps":"","icon-right":"share",onClick:t[10]||(t[10]=t=>e.copyAddress("https://shell.org/"+(e.memberId>0?"?ref="+e.memberId:"")))},{default:(0,a.w5)((()=>[(0,a._)("a",E,(0,o.zw)("https://shell.org/"+(e.memberId>0?"?ref="+e.memberId:"")),1),(0,a.Wm)(He,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ue,null,{avatar:(0,a.w5)((()=>[(0,a.Wm)(ke,{name:"check",color:"primary"})])),default:(0,a.w5)((()=>[F])),_:1})])),_:1})])),_:1})])]),(0,a._)("div",R,[((0,a.wg)(),(0,a.j4)(Ae,{modelValue:e.tab,"onUpdate:modelValue":t[11]||(t[11]=t=>e.tab=t),key:e.tab,class:"text-grey full-width","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,a.w5)((()=>[(0,a.Wm)(Te,{name:"allBets",label:"All Bets"}),(0,a.Wm)(Te,{name:"myBets",label:"My Bets"})])),_:1},8,["modelValue"])),(0,a.Wm)(Ne,{modelValue:e.tab,"onUpdate:modelValue":t[12]||(t[12]=t=>e.tab=t),animated:"",class:"full-width bg-none no-padding-panel"},{default:(0,a.w5)((()=>[(0,a.Wm)(De,{name:"allBets",class:"q-pa-none"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)(Qe,{"rows-per-page-options":[50],"hide-bottom":"",class:"my-sticky-header-table q-pa-none",rows:e.allBets,columns:e.columns,"row-key":"id",key:e.allBets},{header:(0,a.w5)((e=>[(0,a.Wm)(Ze,{props:e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(Pe,{key:t.name,props:e,class:(0,o.C_)("text-white text-bold "+t.name)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.label.toUpperCase()),1)])),_:2},1032,["props","class"])))),128))])),_:2},1032,["props"])])),"body-cell-payout":(0,a.w5)((t=>[(0,a.Wm)(Oe,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",M,[(0,a.Wm)(_e,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",G,[(0,a._)("div",{class:(0,o.C_)(t.value>0?"texte-white":"text-grey")},[(0,a._)("a",L,(0,o.zw)(e.$n(t.value)),1)],2),(0,a.Wm)(Be,{size:"xs"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"tokens/"+t.row.token+".png"},null,8,J)])),_:2},1024)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-game":(0,a.w5)((e=>[(0,a.Wm)(Oe,{props:e},{default:(0,a.w5)((()=>[(0,a._)("div",Y,[(0,a._)("div",{class:(0,o.C_)(" no-wrap text-h6 items-center "+(e.row.payout>0?"texte-white":"text-grey"))},[(0,a._)("div",$,[(0,a.Uk)((0,o.zw)(e.row.lucky.toString().padStart(2,"0"))+" ",1),(0,a._)("span",null,(0,o.zw)(e.row.symbol),1),(0,a.Uk)(" "+(0,o.zw)(e.row.target.toString().padStart(2,"0")),1)]),0==e.row.payout?((0,a.wg)(),(0,a.iD)("div",K)):(0,a.kq)("",!0)],2)])])),_:2},1032,["props"])])),"body-cell-wager":(0,a.w5)((t=>[(0,a.Wm)(Oe,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a.Wm)(_e,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",ee,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",te,(0,o.zw)(e.$n(t.value)),1)],2),(0,a.Wm)(Be,{size:"xs"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"tokens/"+t.row.token+".png"},null,8,le)])),_:2},1024)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-player":(0,a.w5)((t=>[(0,a.Wm)(Oe,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",ae,[(0,a.Wm)(_e,{flat:"","no-caps":"",dense:"",onClick:l=>e.printInfo(t.value)},{default:(0,a.w5)((()=>[(0,a._)("div",oe,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",ne,(0,o.zw)(e.shortAddress(t.value,6,!0)),1)],2)])])),_:2},1032,["onClick"])])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))])),_:1}),(0,a.Wm)(De,{name:"myBets",class:"q-pa-none"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)(Qe,{"rows-per-page-options":[50],"hide-bottom":"",class:"my-sticky-header-table q-pa-none",rows:e.userBets,columns:e.columns,"row-key":"id",key:e.userBets},{header:(0,a.w5)((e=>[(0,a.Wm)(Ze,{props:e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(Pe,{key:t.name,props:e,class:(0,o.C_)("text-white text-bold "+t.name)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.label.toUpperCase()),1)])),_:2},1032,["props","class"])))),128))])),_:2},1032,["props"])])),"body-cell-payout":(0,a.w5)((t=>[(0,a.Wm)(Oe,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",se,[(0,a.Wm)(_e,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",re,[(0,a._)("div",{class:(0,o.C_)(t.value>0?"texte-white":"text-grey")},[(0,a._)("a",ie,(0,o.zw)(e.$n(t.value)),1)],2),(0,a.Wm)(Be,{size:"xs"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"tokens/"+t.row.token+".png"},null,8,ce)])),_:2},1024)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-game":(0,a.w5)((e=>[(0,a.Wm)(Oe,{props:e},{default:(0,a.w5)((()=>[(0,a._)("div",ue,[(0,a._)("div",{class:(0,o.C_)(" no-wrap text-h6 items-center "+(e.row.payout>0?"texte-white":"text-grey"))},[(0,a._)("div",de,[(0,a.Uk)((0,o.zw)(e.row.lucky.toString().padStart(2,"0"))+" ",1),(0,a._)("span",null,(0,o.zw)(e.row.symbol),1),(0,a.Uk)(" "+(0,o.zw)(e.row.target.toString().padStart(2,"0")),1)]),0==e.row.payout?((0,a.wg)(),(0,a.iD)("div",me)):(0,a.kq)("",!0)],2)])])),_:2},1032,["props"])])),"body-cell-wager":(0,a.w5)((t=>[(0,a.Wm)(Oe,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",pe,[(0,a.Wm)(_e,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",we,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",ge,(0,o.zw)(e.$n(t.value)),1)],2),(0,a.Wm)(Be,{size:"xs"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"tokens/"+t.row.token+".png"},null,8,ve)])),_:2},1024)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-player":(0,a.w5)((t=>[(0,a.Wm)(Oe,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",he,[(0,a.Wm)(_e,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",fe,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",ye,(0,o.zw)(e.shortAddress(t.value,6,!0)),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))])),_:1}),(0,a.Wm)(De,{name:"how"})])),_:1},8,["modelValue"])])]),(0,a.Wm)(Re,{modelValue:e.switchNet,"onUpdate:modelValue":t[13]||(t[13]=t=>e.switchNet=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Fe,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ve,{class:"row items-center q-pb-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(Be,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),be,(0,a.Wm)(je),(0,a.wy)((0,a.Wm)(_e,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ge]])])),_:1}),(0,a.Wm)(Ve,{class:"row items-center"},{default:(0,a.w5)((()=>[xe])),_:1}),(0,a.Wm)(Ee,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(_e,{class:"full-width",label:"Switch",color:"primary",onClick:e.switchNetwork},null,8,["onClick"]),[[Ge]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var ke=l(60499),We=l(65457),qe=l(19302),Ce=l(29941),Be=l(28488),Se=l(17779),ze=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,n){function s(e){try{i(a.next(e))}catch(t){n(t)}}function r(e){try{i(a["throw"](e))}catch(t){n(t)}}function i(e){e.done?l(e.value):o(e.value).then(s,r)}i((a=a.apply(e,t||[])).next())}))};const Ie=l(67489),Ue=l(16518),He="0xfc5C8cF76503174639aAe3dDDd579DcC5b2B26E2",Te={title:"Thunder Dice"},Ae=(0,a.aZ)({name:"DicePage",components:{},setup(){const e=(0,qe.Z)();e.dark.set(!0),(0,We.Z)(Te);const t=(0,Ce.v)();t.getBalance();const l=(0,ke.iH)(!1);let o=(0,a.Fl)((()=>t.memberId));const n=window.innerHeight,s=(0,ke.iH)("allBets"),r=[{name:"payout",label:"payout",field:"payout",align:"right"},{name:"game",label:"game",field:"game",align:"center"},{name:"wager",label:"wager",field:"wager",align:"right"},{name:"player",label:"player",field:"player",align:"center"}],i=[{token:"0x0000000000000000000000000000000000000000",symbol:"TT",min:100,max:5e5,startBlock:106101233,allowance:"0"},{token:"0xBEB0131D95AC3F03fd15894D0aDE5DBf7451d171",symbol:"BUSD",min:1,max:5e3,startBlock:106101233,allowance:"0"},{token:"0x05dB20427BbcE9f356422DB8cA65097b11fBaff8",symbol:"SHELL",min:100,max:5e5,startBlock:106101233,allowance:"0"}],c=(0,ke.iH)(!1),u=(0,ke.iH)(0),d=(0,ke.iH)(0),m=(0,ke.iH)(50),p=(0,ke.iH)(100),w=(0,ke.iH)(!1),g=(0,ke.iH)("");let v=(0,a.Fl)((()=>{let e=i[0];for(let l=0;l<i.length;l++)if(i[l].symbol==t.selectedToken.toUpperCase()){e=i[l];break}return e})),h=(0,a.Fl)((()=>w.value?99-m.value:m.value)),f=(0,a.Fl)((()=>99/h.value));const y=(0,ke.iH)("00");setInterval((()=>{y.value=Math.floor(100*Math.random()).toString().padStart(2,"0")}),80);const b=(0,ke.iH)({}),x=(0,ke.iH)({});let _=(0,a.Fl)((()=>{let e=[];for(var t in b.value)b.value.hasOwnProperty(t)&&e.unshift(b.value[t]);return e})),k=(0,a.Fl)((()=>{let e=[];for(var t in x.value)x.value.hasOwnProperty(t)&&e.unshift(x.value[t]);return e}));function W(e){let t=v.value.min,l=v.value.max;switch(e){case 1:p.value=l;break;case 2:p.value=t;break;case 3:p.value*=2;break;case 4:p.value/=2;break;default:break}p.value>l&&(p.value=l),p.value<t&&(p.value=t)}function q(){w.value=!w.value;let e=w.value?4:1,t=w.value?98:95;m.value>t&&(m.value=t),m.value<e&&(m.value=e),T()}function C(e){let t=i[0];for(let l=0;l<i.length;l++)if(i[l].token.toUpperCase()==e.toUpperCase()){t=i[l];break}return t.symbol}function B(e,l){const a=t.web3;if(!e.removed){const t=e.returnValues,o=t.betId.toString();let n=C(t.token),s=parseFloat(a.utils.fromWei(t.wager)),r={betId:parseInt(t.betId),payout:parseFloat(a.utils.fromWei(t.bonus)),lucky:parseInt(t.lucky),player:t.player,symbol:t.rollOver?"＞":"＜",target:parseInt(t.target),wager:s,token:n};s>1&&(b.value[o]=r),l&&(x.value[o]=r)}}const S=e=>new Promise((t=>setTimeout(t,e)));function z(){return ze(this,void 0,void 0,(function*(){const e="Thundercore Mainnet",t="Thunder Token",l="TT",a="https://mainnet-rpc.thundercore.com",o="https://viewblock.io/thundercore",n="0x6C";if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),location.reload()}catch(s){if(Se.log(s),4902===s.code){Se.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:e,nativeCurrency:{name:t,symbol:l,decimals:18},rpcUrls:[a],blockExplorerUrls:[o]}]}),location.reload()}catch(r){alert(r.message)}}else alert(s.message)}else alert("Need Connect Wallet")}))}function I(){return ze(this,void 0,void 0,(function*(){u.value=0,W(0),Se.log("Start Roll:"),Se.log("Wager: ",p.value,"Target: ",w.value?"＞":"＜",m.value),108===t.walletNetId?(0==k.value.length&&(A(),Z(),O()),"TT"==t.selectedToken.toUpperCase()?U(w.value,m.value,p.value):H(w.value,m.value,p.value,v.value.token)):yield t.getWalletNet().then((()=>{if(108!==t.walletNetId)return Se.log("Switch Net:"),void(l.value=!0)}))}))}function U(e,l,a){return ze(this,void 0,void 0,(function*(){c.value=!0;const o=t.walletWeb3,n=t.account;if(!o.utils.isAddress(n))return void alert("Need Connect Wallet!");const r=He,i=new o.eth.Contract(Ue,r);s.value="myBets";let u=i.methods.placeBet(o.utils.toHex(l.toString()),e,"0x0000000000000000000000000000000000000000",o.utils.toWei(a.toString(),"ether"),o.utils.toHex(t.refCode)),d=u.encodeABI();o.eth.estimateGas({from:n,to:r,value:o.utils.toWei(a.toString(),"ether"),data:d}).then((function(e){Se.log("gasAmount: ",e),o.eth.sendTransaction({from:n,to:r,value:o.utils.toWei(a.toString(),"ether"),gas:parseInt((2*e).toString()),gasPrice:t.gasPrice,data:d}).on("transactionHash",(e=>{g.value=e})).on("receipt",(e=>{g.value==e.transactionHash&&(Se.log("receipt: ",e),t.getBalance(),c.value=!1,g.value="")})).on("error",(e=>{Se.log("tx placeBet ",e),c.value=!1,g.value=""}))})).catch((function(e){Se.log("estimateGas: ",e),c.value=!1,g.value=""}))}))}function H(e,l,a,o){return ze(this,void 0,void 0,(function*(){c.value=!0;const n=t.walletWeb3,r=t.account;if(!n.utils.isAddress(r))return void alert("Need Connect Wallet!");const i=He,u=new n.eth.Contract(Ue,i);s.value="myBets";let d=u.methods.placeBet(n.utils.toHex(l.toString()),e,o,n.utils.toWei(a.toString(),"ether"),n.utils.toHex(t.refCode)),m=d.encodeABI();n.eth.estimateGas({from:r,to:i,value:0,data:m}).then((function(e){Se.log("gasAmount: ",e),n.eth.sendTransaction({from:r,to:i,value:0,gas:parseInt((2*e).toString()),gasPrice:t.gasPrice,data:m}).on("transactionHash",(e=>{Se.log("transactionHash: ",e),g.value=e})).on("receipt",(e=>{g.value==e.transactionHash&&(Se.log("receipt: ",e),t.getBalance(),c.value=!1,g.value="")})).on("error",(e=>{Se.log("tx placeBet ",e),c.value=!1,g.value=""}))})).catch((function(e){Se.log("estimateGas: ",e),c.value=!1,g.value="";let t=e.message.toString();t.search("insufficient allowance")>0&&(Se.log("approveToken"),N())}))}))}function T(){return ze(this,void 0,void 0,(function*(){const e=t.web3,l=He,a=new e.eth.Contract(Ue,l);e.eth.getBlockNumber().then((function(e){return ze(this,void 0,void 0,(function*(){let t=e,l=0,o=0;while(o<50&&t>v.value.startBlock||t==e){let e=!1;l=t,t-=1e5;const n={fromBlock:t,toBlock:l>0?l:"latest"};if(yield a.getPastEvents("BetPlaced",n).then((function(e){o+=e.length,e.forEach((e=>{B(e,!1)}))})).catch((t=>{Se.error("getPastEvents BetSettled Error:",t),e=!0})),e)break;yield S(100)}Se.log("allBetsHistoy done!",t)}))}))}))}function A(){return ze(this,void 0,void 0,(function*(){const e=t.web3,l=t.account;if(!e.utils.isAddress(l))return;const a=He,o=new e.eth.Contract(Ue,a);e.eth.getBlockNumber().then((function(e){return ze(this,void 0,void 0,(function*(){let t=e,a=0,n=0;while(n<50&&t>v.value.startBlock||t==e){let e=!1;a=t,t-=1e5;const s={filter:{player:l},fromBlock:t,toBlock:a>0?a:"latest"};if(yield o.getPastEvents("BetPlaced",s).then((function(e){n+=e.length,e.forEach((e=>{B(e,e.returnValues.player.toUpperCase()==l.toUpperCase())}))})).catch((t=>{Se.error("getPastEvents BetSettled Error:",t),e=!0})),e)break;yield S(100)}Se.log("userBetsHistoy done!",t)}))}))}))}let P=[];function Z(){Se.log("listeners:",P),P&&P.length>0&&P.forEach((e=>{e&&(e.unsubscribe(),Se.log("unsubscribe:",e))}))}function O(){return ze(this,void 0,void 0,(function*(){const e=t.web3wss,l=t.account,a=He,o=new e.eth.Contract(Ue,a),n={fromBlock:"latest"};let s=o.events.BetPlaced(n).on("data",(function(e){if(e){let a=!1;e.returnValues.player.toUpperCase()==l.toUpperCase()&&(a=!0,t.getBalance(),Se.log("rolling transactionHash",g.value),Se.log("event transactionHash",e.transactionHash),g.value==e.transactionHash&&(u.value=e.returnValues.lucky,c.value=!1,g.value="")),B(e,a)}})).on("changed",(function(e){Se.log("listenBetPlaced changed:",e)})).on("error",(function(e){Se.log("listenBetPlaced Err:",e)})).on("connected",(function(e){Se.log("listenBetPlaced subscription id:",e)}));P.push(s)}))}function Q(e=""){return ze(this,void 0,void 0,(function*(){const l=t.web3,a=t.account;if(!l.utils.isAddress(a))return;if("0x0000000000000000000000000000000000000000"==v.value.token||"0x0000000000000000000000000000000000000000"==e)return;let o;o=e.length>0?new l.eth.Contract(Ie,e):new l.eth.Contract(Ie,v.value.token),o.methods.allowance(a,He).call().then((t=>{for(let a=0;a<i.length;a++)i[a].token==e&&(i[a].allowance=l.utils.fromWei(t))})).catch((function(e){e&&Se.log("getAllowance: ",e)}))}))}function D(){return ze(this,void 0,void 0,(function*(){yield S(3e3).then((()=>{for(let e=0;e<i.length;e++){const t=i[e].token;Q(t)}}))}))}function N(){return ze(this,void 0,void 0,(function*(){const e=t.walletWeb3,l=t.account;if(!e.utils.isAddress(l))return void alert("Need Connect Wallet!");const a=new e.eth.Contract(Ie,v.value.token);let o=a.methods.approve(He,e.utils.toWei("9999999999999999999999999999","ether")),n=o.encodeABI();e.eth.estimateGas({from:l,to:v.value.token,value:0,data:n}).then((function(a){Se.log("gasAmount: ",a),e.eth.sendTransaction({from:l,to:v.value.token,value:0,gas:parseInt((2*a).toString()),gasPrice:t.gasPrice,data:n}).on("transactionHash",(e=>{Se.log("transactionHash: ",e)})).on("receipt",(e=>{Se.log("receipt: ",e)})).on("error",(e=>{Se.log("tx approveToken ",e)}))})).catch((function(e){Se.log("approveToken estimateGas: ",e)}))}))}return{memberId:o,shortAddress:Be.sC,copyAddress:Be.c4,store:t,lucky:u,luckyShow:d,heroHi:n,tab:s,columns:r,games:i,game:v,betting:c,target:m,wager:p,rollOver:w,randomeStr:y,rollingTxHash:g,chance:h,payout:f,allBets:_,userBets:k,switchNet:l,updateWager:W,checkTarget:q,switchNetwork:z,startRoll:I,allBetsHistoy:T,removeListeners:Z,getAllowance:Q,getAllAllowance:D,initGame(){return ze(this,void 0,void 0,(function*(){T(),A(),O(),D()}))},initData(){localStorage.getItem("betsRecords")&&Object.assign(b.value,JSON.parse(localStorage.getItem("betsRecords")||"")),localStorage.getItem((0,Ce.v)().account.concat("-userRecords"))&&Object.assign(x.value,JSON.parse(localStorage.getItem((0,Ce.v)().account.concat("-userRecords"))||""))},storeData(){let e={};if(Object.keys(x.value).length>100){let l=parseInt(Object.keys(x.value)[Object.keys(x.value).length-100]);for(var t in x.value)x.value.hasOwnProperty(t)&&parseInt(t)>l&&(e[t]=x.value[t])}else e=x.value;localStorage.setItem((0,Ce.v)().account.concat("-userRecords"),JSON.stringify(e));let l={};if(Object.keys(b.value).length>100){let e=parseInt(Object.keys(b.value)[Object.keys(b.value).length-100]);for(var t in b.value)b.value.hasOwnProperty(t)&&parseInt(t)>e&&(l[t]=b.value[t])}else l=b.value;localStorage.setItem("betsRecords",JSON.stringify(l))},printInfo(e){Se.log(e)}}},beforeMount(){this.initGame(),this.initData(),setInterval(this.getAllAllowance,1e4)},beforeUnmount(){this.removeListeners(),this.storeData()},watch:{betting:function(e){Se.log("betting:",e)}}});var Pe=l(11639),Ze=l(69885),Oe=l(24455),Qe=l(22857),De=l(490),Ne=l(76749),je=l(28423),Ve=l(66611),Ee=l(97858),Fe=l(13246),Re=l(61357),Me=l(52765),Ge=l(47128),Le=l(47817),Je=l(70900),Ye=l(89800),$e=l(84106),Ke=l(91903),Xe=l(31233),et=l(21682),tt=l(67220),lt=l(32074),at=l(44458),ot=l(63190),nt=l(90136),st=l(11821),rt=l(62146),it=l(69984),ct=l.n(it);const ut=(0,Pe.Z)(Ae,[["render",_e],["__scopeId","data-v-ffd09390"]]),dt=ut;ct()(Ae,"components",{QPage:Ze.Z,QBtn:Oe.Z,QIcon:Qe.Z,QItem:De.Z,QItemSection:Ne.Z,QSlider:je.Z,QInput:Ve.Z,QMenu:Ee.Z,QList:Fe.Z,QAvatar:Re.Z,QPopupProxy:Me.Z,QBanner:Ge.Z,QTabs:Le.Z,QTab:Je.Z,QTabPanels:Ye.Z,QTabPanel:$e.Z,QTable:Ke.Z,QTr:Xe.Z,QTh:et.Z,QTd:tt.Z,QDialog:lt.Z,QCard:at.Z,QCardSection:ot.Z,QSpace:nt.Z,QCardActions:st.Z}),ct()(Ae,"directives",{ClosePopup:rt.Z})}}]);