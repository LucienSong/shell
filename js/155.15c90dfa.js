"use strict";(globalThis["webpackChunkshell_org"]=globalThis["webpackChunkshell_org"]||[]).push([[155],{50155:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Le});var a=l(59835),o=l(86970);const s=e=>((0,a.dD)("data-v-8eaecec2"),e=e(),(0,a.Cn)(),e),n={class:"row items-start q-gutter-xs justify-evenly q-pa-none",style:{width:"100%","max-width":"800px","min-width":"300px"}},r={class:"play full-width q-py-md q-px-none"},i={class:"result row text-center items-center justify-center q-py-md q-px-none"},c={key:0,class:"column q-py-none q-gutter-xs"},u={class:"gt-sm text-big text-mono"},d={class:"lt-md text-change text-mono"},m=s((()=>(0,a._)("div",{class:"text-bold"},"Lucky",-1))),p={key:1,class:"column q-py-none q-gutter-xs"},w={class:"gt-sm text-big text-mono"},g={class:"lt-md text-change text-mono"},v=s((()=>(0,a._)("div",{class:"text-bold"},"Lucky",-1))),h=s((()=>(0,a._)("div",{class:"col-3"},null,-1))),y={class:"column q-py-none q-gutter-xs"},f={class:"gt-sm text-big text-mono"},b={class:"lt-md text-change text-mono"},x=s((()=>(0,a._)("div",{class:"text-bold"},"Target",-1))),_={class:"settings row q-gutter-xs q-px-none"},k={class:"column text-center text-bold col"},W=(0,a.Uk)(" Multiplier "),q={class:"column text-center text-bold col"},S={class:"column text-center text-bold col"},C=(0,a.Uk)(" Win Chance "),B={class:"slider full-width q-py-md q-px-none"},z=(0,a.Uk)(" 0 "),T=(0,a.Uk)(" 99 "),U={class:"row items-center q-pt-none q-px-none"},H={class:"wager col-12 col-sm-9"},Z={class:"roll col-12 col-sm-3"},I=(0,a.Uk)(" Start Roll "),P={class:"history full-width q-py-md q-px-none"},Q={class:"my-table-details"},N={class:"row items-center no-wrap"},O={class:"text-mono text-h6"},V={class:"text-mono",style:{"font-size":"xx-small"}},D={class:"my-table-details"},A={class:"text-mono"},E={key:0,class:"not-greater-lesser"},j={class:"my-table-details"},F={class:"row items-center no-wrap"},M={class:"text-h6 text-mono"},R={class:"text-mono",style:{"font-size":"xx-small"}},G={class:"my-table-details"},J={class:"row items-center no-wrap"},L={class:"text-bold text-mono"},$={class:"my-table-details"},Y={class:"row items-center no-wrap"},K={class:"text-mono text-h6"},X={class:"text-mono",style:{"font-size":"xx-small"}},ee={class:"my-table-details"},te={class:"text-mono"},le={key:0,class:"not-greater-lesser"},ae={class:"my-table-details"},oe={class:"row items-center no-wrap"},se={class:"text-h6 text-mono"},ne={class:"text-mono",style:{"font-size":"xx-small"}},re={class:"my-table-details"},ie={class:"row items-center no-wrap"},ce={class:"text-bold text-mono"},ue=s((()=>(0,a._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),de=s((()=>(0,a._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function me(e,t,l,s,me,pe){const we=(0,a.up)("q-btn"),ge=(0,a.up)("q-icon"),ve=(0,a.up)("q-item-section"),he=(0,a.up)("q-slider"),ye=(0,a.up)("q-item"),fe=(0,a.up)("q-input"),be=(0,a.up)("q-tab"),xe=(0,a.up)("q-tabs"),_e=(0,a.up)("q-th"),ke=(0,a.up)("q-tr"),We=(0,a.up)("q-td"),qe=(0,a.up)("q-table"),Se=(0,a.up)("q-tab-panel"),Ce=(0,a.up)("q-tab-panels"),Be=(0,a.up)("q-avatar"),ze=(0,a.up)("q-space"),Te=(0,a.up)("q-card-section"),Ue=(0,a.up)("q-card-actions"),He=(0,a.up)("q-card"),Ze=(0,a.up)("q-dialog"),Ie=(0,a.up)("q-page"),Pe=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(Ie,{class:"row items-start justify-evenly"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",r,[(0,a._)("div",i,[e.betting?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",u,(0,o.zw)(e.luckyShow.toString().padStart(2,"0")),1),(0,a._)("div",d,(0,o.zw)(e.luckyShow.toString().padStart(2,"0")),1),m])):((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",w,(0,o.zw)(e.lucky.toString().padStart(2,"0")),1),(0,a._)("div",g,(0,o.zw)(e.lucky.toString().padStart(2,"0")),1),v])),h,(0,a._)("div",y,[(0,a._)("div",f,(0,o.zw)(e.target.toString().padStart(2,"0")),1),(0,a._)("div",b,(0,o.zw)(e.target.toString().padStart(2,"0")),1),x])]),(0,a._)("div",_,[(0,a._)("div",k,[W,(0,a.Wm)(we,{"no-caps":"",class:"text-bold text-larger text-mono bg-glass"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(parseFloat(e.payout.toPrecision(5)))+"x ",1)])),_:1})]),(0,a._)("div",q,[(0,a._)("a",null,[(0,a.Uk)((0,o.zw)(e.rollOver?"Roll Over":"Roll Under")+" ",1),(0,a.Wm)(ge,{name:"las la-sync"})]),(0,a.Wm)(we,{class:"text-bold text-larger text-mono bg-glass",onClick:t[0]||(t[0]=t=>e.checkTarget())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.rollOver?"＞":"＜")+" "+(0,o.zw)(e.target+" "),1)])),_:1})]),(0,a._)("div",S,[C,(0,a.Wm)(we,{class:"text-bold text-larger text-mono bg-glass"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(parseFloat(e.chance.toPrecision(6)))+"% ",1)])),_:1})])]),(0,a._)("div",B,[(0,a.Wm)(ye,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ve,{class:"text-mono",side:""},{default:(0,a.w5)((()=>[z])),_:1}),(0,a.Wm)(ve,null,{default:(0,a.w5)((()=>[(0,a.Wm)(he,{"thumb-color":"white",modelValue:e.target,"onUpdate:modelValue":t[1]||(t[1]=t=>e.target=t),"track-size":"8px",min:e.rollOver?4:1,max:e.rollOver?98:95,"inner-min":e.rollOver?4:1,"inner-max":e.rollOver?98:95,color:e.rollOver?"negative":"positive","track-color":e.rollOver?"positive":"negative"},null,8,["modelValue","min","max","inner-min","inner-max","color","track-color"])])),_:1}),(0,a.Wm)(ve,{class:"text-mono",side:""},{default:(0,a.w5)((()=>[T])),_:1})])),_:1})]),(0,a._)("div",U,[(0,a._)("div",H,[(0,a.Wm)(ye,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ve,{class:"column q-gutter-xs",side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(we,{class:"full-width text-mono",size:"xs",outline:"",label:"MAX",onClick:t[2]||(t[2]=t=>e.updateWager(1))}),(0,a.Wm)(we,{class:"full-width text-mono",size:"xs",outline:"",label:"MIN",onClick:t[3]||(t[3]=t=>e.updateWager(2))})])),_:1}),(0,a.Wm)(ve,null,{default:(0,a.w5)((()=>[(0,a.Wm)(fe,{filled:"",type:"number",modelValue:e.wager,"onUpdate:modelValue":t[4]||(t[4]=t=>e.wager=t),modelModifiers:{number:!0},debounce:"200",label:"Bet Amount:","stack-label":"",onChange:t[5]||(t[5]=t=>e.updateWager(0)),class:"full-width text-h6 text-mono",suffix:e.game.symbol},null,8,["modelValue","suffix"])])),_:1}),(0,a.Wm)(ve,{class:"column q-gutter-xs",side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(we,{class:"full-width text-mono",size:"xs",outline:"","no-caps":"",label:"2x",onClick:t[6]||(t[6]=t=>e.updateWager(3))}),(0,a.Wm)(we,{class:"full-width text-mono",size:"xs",outline:"","no-caps":"",label:"x/2",onClick:t[7]||(t[7]=t=>e.updateWager(4))})])),_:1})])),_:1})]),(0,a._)("div",Z,[(0,a.Wm)(we,{"no-caps":"",color:"primary",class:"full-width text-bold text-h6",onClick:t[8]||(t[8]=t=>e.startRoll()),loading:e.betting},{default:(0,a.w5)((()=>[I])),_:1},8,["loading"])])])]),(0,a._)("div",P,[((0,a.wg)(),(0,a.j4)(xe,{modelValue:e.tab,"onUpdate:modelValue":t[9]||(t[9]=t=>e.tab=t),key:e.tab,class:"text-grey full-width","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,a.w5)((()=>[(0,a.Wm)(be,{name:"allBets",label:"All Bets"}),(0,a.Wm)(be,{name:"myBets",label:"My Bets"}),(0,a.Wm)(be,{name:"how",label:"How to Play"})])),_:1},8,["modelValue"])),(0,a.Wm)(Ce,{modelValue:e.tab,"onUpdate:modelValue":t[10]||(t[10]=t=>e.tab=t),animated:"",class:"full-width bg-none no-padding-panel"},{default:(0,a.w5)((()=>[(0,a.Wm)(Se,{name:"allBets",class:"q-pa-none"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)(qe,{"rows-per-page-options":[10],"hide-bottom":"",class:"my-sticky-header-table q-pa-none",rows:e.allBets,columns:e.columns,"row-key":"id",key:e.allBets},{header:(0,a.w5)((e=>[(0,a.Wm)(ke,{props:e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(_e,{key:t.name,props:e,class:(0,o.C_)("text-white text-bold "+t.name)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.label.toUpperCase()),1)])),_:2},1032,["props","class"])))),128))])),_:2},1032,["props"])])),"body-cell-payout":(0,a.w5)((t=>[(0,a.Wm)(We,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",Q,[(0,a.Wm)(we,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",N,[(0,a._)("div",{class:(0,o.C_)(t.value>0?"texte-white":"text-grey")},[(0,a._)("a",O,(0,o.zw)(e.$n(t.value)),1),(0,a._)("a",V,(0,o.zw)(" "+e.game.symbol),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-game":(0,a.w5)((e=>[(0,a.Wm)(We,{props:e},{default:(0,a.w5)((()=>[(0,a._)("div",D,[(0,a._)("div",{class:(0,o.C_)(" no-wrap text-h6 items-center "+(e.row.payout>0?"texte-white":"text-grey"))},[(0,a._)("div",A,[(0,a.Uk)((0,o.zw)(e.row.lucky.toString().padStart(2,"0"))+" ",1),(0,a._)("span",null,(0,o.zw)(e.row.symbol),1),(0,a.Uk)(" "+(0,o.zw)(e.row.target.toString().padStart(2,"0")),1)]),0==e.row.payout?((0,a.wg)(),(0,a.iD)("div",E)):(0,a.kq)("",!0)],2)])])),_:2},1032,["props"])])),"body-cell-wager":(0,a.w5)((t=>[(0,a.Wm)(We,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",j,[(0,a.Wm)(we,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",F,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",M,(0,o.zw)(e.$n(t.value)),1),(0,a._)("a",R,(0,o.zw)(" "+e.game.symbol),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-player":(0,a.w5)((t=>[(0,a.Wm)(We,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",G,[(0,a.Wm)(we,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",J,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",L,(0,o.zw)(e.shortAddress(t.value,6,!0)),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))])),_:1}),(0,a.Wm)(Se,{name:"myBets",class:"q-pa-none"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)(qe,{"rows-per-page-options":[25],"hide-bottom":"",class:"my-sticky-header-table q-pa-none",rows:e.userBets,columns:e.columns,"row-key":"id",key:e.userBets},{header:(0,a.w5)((e=>[(0,a.Wm)(ke,{props:e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(_e,{key:t.name,props:e,class:(0,o.C_)("text-white text-bold "+t.name)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.label.toUpperCase()),1)])),_:2},1032,["props","class"])))),128))])),_:2},1032,["props"])])),"body-cell-payout":(0,a.w5)((t=>[(0,a.Wm)(We,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",$,[(0,a.Wm)(we,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",Y,[(0,a._)("div",{class:(0,o.C_)(t.value>0?"texte-white":"text-grey")},[(0,a._)("a",K,(0,o.zw)(e.$n(t.value)),1),(0,a._)("a",X,(0,o.zw)(" "+e.game.symbol),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-game":(0,a.w5)((e=>[(0,a.Wm)(We,{props:e},{default:(0,a.w5)((()=>[(0,a._)("div",ee,[(0,a._)("div",{class:(0,o.C_)(" no-wrap text-h6 items-center "+(e.row.payout>0?"texte-white":"text-grey"))},[(0,a._)("div",te,[(0,a.Uk)((0,o.zw)(e.row.lucky.toString().padStart(2,"0"))+" ",1),(0,a._)("span",null,(0,o.zw)(e.row.symbol),1),(0,a.Uk)(" "+(0,o.zw)(e.row.target.toString().padStart(2,"0")),1)]),0==e.row.payout?((0,a.wg)(),(0,a.iD)("div",le)):(0,a.kq)("",!0)],2)])])),_:2},1032,["props"])])),"body-cell-wager":(0,a.w5)((t=>[(0,a.Wm)(We,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",ae,[(0,a.Wm)(we,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",oe,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",se,(0,o.zw)(e.$n(t.value)),1),(0,a._)("a",ne,(0,o.zw)(" "+e.game.symbol),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),"body-cell-player":(0,a.w5)((t=>[(0,a.Wm)(We,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",re,[(0,a.Wm)(we,{flat:"","no-caps":"",dense:""},{default:(0,a.w5)((()=>[(0,a._)("div",ie,[(0,a._)("div",{class:(0,o.C_)(t.row.payout>0?"texte-white":"text-grey")},[(0,a._)("a",ce,(0,o.zw)(e.shortAddress(t.value,6,!0)),1)],2)])])),_:2},1024)])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))])),_:1}),(0,a.Wm)(Se,{name:"how"})])),_:1},8,["modelValue"])])]),(0,a.Wm)(Ze,{modelValue:e.switchNet,"onUpdate:modelValue":t[11]||(t[11]=t=>e.switchNet=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(He,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Te,{class:"row items-center q-pb-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(Be,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),ue,(0,a.Wm)(ze),(0,a.wy)((0,a.Wm)(we,{icon:"close",flat:"",round:"",dense:""},null,512),[[Pe]])])),_:1}),(0,a.Wm)(Te,{class:"row items-center"},{default:(0,a.w5)((()=>[de])),_:1}),(0,a.Wm)(Ue,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(we,{class:"full-width",label:"Switch",color:"primary",onClick:e.switchNetwork},null,8,["onClick"]),[[Pe]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var pe=l(60499),we=l(65457),ge=l(19302),ve=l(29941),he=l(28488),ye=l(17779),fe=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,s){function n(e){try{i(a.next(e))}catch(t){s(t)}}function r(e){try{i(a["throw"](e))}catch(t){s(t)}}function i(e){e.done?l(e.value):o(e.value).then(n,r)}i((a=a.apply(e,t||[])).next())}))};const be=l(16518),xe={title:"Shell - Dice"},_e=(0,a.aZ)({name:"DicePage",components:{},setup(){const e=(0,ge.Z)();e.dark.set(!0),(0,we.Z)(xe);const t=(0,ve.v)();t.getBalance();const l=(0,pe.iH)(!1),o=window.innerHeight,s=(0,pe.iH)("allBets"),n=[{name:"payout",label:"payout",field:"payout",align:"right"},{name:"game",label:"game",field:"game",align:"center"},{name:"wager",label:"wager",field:"wager",align:"right"},{name:"player",label:"player",field:"player",align:"center"}],r=[{contract:"0x18eDA3336F07a132295385Aa7Fe9214D4bF38d31",token:"",symbol:"TT",min:1,max:5e4,startBlock:105767691}],i=(0,pe.iH)(!1),c=(0,pe.iH)(0),u=(0,pe.iH)(0),d=(0,pe.iH)(50),m=(0,pe.iH)(1),p=(0,pe.iH)(!1);let w=(0,a.Fl)((()=>{let e=r[0];for(let l=0;l<r.length;l++)if(r[l].symbol==t.selectedToken.toUpperCase()){e=r[l];break}return e})),g=(0,a.Fl)((()=>p.value?99-d.value:d.value)),v=(0,a.Fl)((()=>99/g.value));const h=(0,pe.iH)({TT:{}}),y=(0,pe.iH)({TT:{}});let f=(0,a.Fl)((()=>{let e=[];for(var t in h.value[w.value.symbol])h.value[w.value.symbol].hasOwnProperty(t)&&e.unshift(h.value[w.value.symbol][t]);return e})),b=(0,a.Fl)((()=>{let e=[];for(var t in y.value[w.value.symbol])y.value[w.value.symbol].hasOwnProperty(t)&&e.unshift(y.value[w.value.symbol][t]);return e}));function x(){u.value+=317,u.value=u.value%100}function _(e){let t=w.value.min,l=w.value.max;switch(e){case 1:m.value=l;break;case 2:m.value=t;break;case 3:m.value*=2;break;case 4:m.value/=2;break;default:break}m.value>l&&(m.value=l),m.value<t&&(m.value=t)}function k(){p.value=!p.value;let e=p.value?4:1,t=p.value?98:95;d.value>t&&(d.value=t),d.value<e&&(d.value=e)}function W(e,l,a){const o=t.web3;if(!e.removed){const t=e.returnValues,s=t.betId.toString();let n={betId:parseInt(t.betId),payout:parseFloat(o.utils.fromWei(t.bonus)),lucky:parseInt(t.lucky),player:t.player,symbol:t.rollOver?"＞":"＜",target:parseInt(t.target),wager:parseFloat(o.utils.fromWei(t.wager))};h.value[a][s]=n,l&&(y.value[a][s]=n)}}const q=e=>new Promise((t=>setTimeout(t,e)));function S(){return fe(this,void 0,void 0,(function*(){const e="Thundercore Mainnet",t="Thunder Token",l="TT",a="https://mainnet-rpc.thundercore.com",o="https://viewblock.io/thundercore",s="0x6C";if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:s}]}),location.reload()}catch(n){if(ye.log(n),4902===n.code){ye.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:s,chainName:e,nativeCurrency:{name:t,symbol:l,decimals:18},rpcUrls:[a],blockExplorerUrls:[o]}]}),location.reload()}catch(r){alert(r.message)}}else alert(n.message)}else alert("Need Connect Wallet")}))}function C(){return fe(this,void 0,void 0,(function*(){c.value=0,_(0),ye.log("Start Roll:"),ye.log("Wager: ",m.value,"Target: ",p.value?"＞":"＜",d.value),108===t.walletNetId?(ye.log("Signg Roll Tx"),"TT"==t.selectedToken.toUpperCase()&&B(p.value,d.value,m.value)):yield t.getWalletNet().then((()=>{if(108!==t.walletNetId)return ye.log("Switch Net:"),void(l.value=!0)}))}))}function B(e,l,a){return fe(this,void 0,void 0,(function*(){i.value=!0;const o=t.walletWeb3,n=t.account;if(!o.utils.isAddress(n))return void alert("Need Connect Wallet!");const c=r[0].contract,u=new o.eth.Contract(be,c);s.value="myBets";let d=u.methods.placeBet(o.utils.toHex(l.toString()),e,1),m=d.encodeABI();o.eth.estimateGas({from:n,to:c,value:o.utils.toWei(a.toString(),"ether"),data:m}).then((function(e){ye.log("gasAmount: ",e),o.eth.sendTransaction({from:n,to:c,value:o.utils.toWei(a.toString(),"ether"),gas:parseInt((2*e).toString()),gasPrice:25e8,data:m}).on("transactionHash",(e=>{ye.log("transactionHash: ",e)})).on("receipt",(e=>{ye.log("receipt: ",e),t.getBalance()})).on("error",(e=>{ye.log("tx placeBet ",e),i.value=!1}))})).catch((function(e){ye.log("estimateGas: ",e),i.value=!1}))}))}function z(){return fe(this,void 0,void 0,(function*(){const e=t.web3,l=w.value.contract,a=new e.eth.Contract(be,l);e.eth.getBlockNumber().then((function(e){return fe(this,void 0,void 0,(function*(){let t=e,l=0;while(l<50&&t>w.value.startBlock||t==e){let e=!1;t-=1e5;const o={fromBlock:t};if(yield a.getPastEvents("BetPlaced",o).then((function(e){l+=e.length,e.forEach((e=>{W(e,!1,w.value.symbol)}))})).catch((t=>{ye.error("getPastEvents BetSettled Error:",t),e=!0})),e)break;yield q(100)}ye.log("allBetsHistoy done!",t)}))}))}))}function T(){return fe(this,void 0,void 0,(function*(){const e=t.web3,l=t.account,a=w.value.contract,o=new e.eth.Contract(be,a);e.eth.getBlockNumber().then((function(e){return fe(this,void 0,void 0,(function*(){let t=e,a=0;while(a<50&&t>w.value.startBlock||t==e){let e=!1;t-=1e5;const s={filter:{player:l},fromBlock:t};if(yield o.getPastEvents("BetPlaced",s).then((function(e){a+=e.length,e.forEach((e=>{W(e,!0,w.value.symbol)}))})).catch((t=>{ye.error("getPastEvents BetSettled Error:",t),e=!0})),e)break;yield q(100)}ye.log("userBetsHistoy done!",t)}))}))}))}let U=[];function H(){ye.log("listeners:",U),U&&U.length>0&&U.forEach((e=>{e&&(e.unsubscribe(),ye.log("unsubscribe:",e))}))}function Z(){return fe(this,void 0,void 0,(function*(){const e=t.web3,l=t.account.toUpperCase(),a=w.value.contract,o=new e.eth.Contract(be,a),s={fromBlock:"latest"};let n=o.events.BetPlaced(s).on("data",(function(e){if(e){let a=!1;e.returnValues.player.toUpperCase()==l&&(a=!0,t.getBalance(),c.value=e.returnValues.lucky,i.value=!1),W(e,a,w.value.symbol)}})).on("changed",(function(e){ye.log("listenBetPlaced changed:",e)})).on("error",(function(e){ye.log("listenBetPlaced Err:",e)})).on("connected",(function(e){ye.log("listenBetPlaced subscription id:",e)}));U.push(n)}))}return{shortAddress:he.sC,store:t,lucky:c,luckyShow:u,heroHi:o,tab:s,columns:n,games:r,game:w,betting:i,target:d,wager:m,rollOver:p,chance:g,payout:v,allBets:f,userBets:b,switchNet:l,updateWager:_,checkTarget:k,switchNetwork:S,startRoll:C,luckySlot:x,allBetsHistoy:z,removeListeners:H,initGame(){z(),T(),Z()},initDate(){localStorage.getItem("betsHistory")&&Object.assign(h.value,JSON.parse(localStorage.getItem("betsHistory")||"")),localStorage.getItem((0,ve.v)().account.concat("-userBetsHistory"))&&Object.assign(y.value,JSON.parse(localStorage.getItem((0,ve.v)().account.concat("-userBetsHistory"))||""))},storeData(){localStorage.setItem((0,ve.v)().account.concat("-userBetsHistory"),JSON.stringify(y.value)),localStorage.setItem("betsHistory",JSON.stringify(h.value))}}},beforeMount(){this.initGame(),this.initDate()},beforeUnmount(){this.removeListeners(),this.storeData()},watch:{betting:function(e){ye.log("betting:",e)}}});var ke=l(11639),We=l(69885),qe=l(24455),Se=l(22857),Ce=l(490),Be=l(76749),ze=l(28423),Te=l(66611),Ue=l(47817),He=l(70900),Ze=l(89800),Ie=l(84106),Pe=l(91903),Qe=l(31233),Ne=l(21682),Oe=l(67220),Ve=l(32074),De=l(44458),Ae=l(63190),Ee=l(61357),je=l(90136),Fe=l(11821),Me=l(62146),Re=l(69984),Ge=l.n(Re);const Je=(0,ke.Z)(_e,[["render",me],["__scopeId","data-v-8eaecec2"]]),Le=Je;Ge()(_e,"components",{QPage:We.Z,QBtn:qe.Z,QIcon:Se.Z,QItem:Ce.Z,QItemSection:Be.Z,QSlider:ze.Z,QInput:Te.Z,QTabs:Ue.Z,QTab:He.Z,QTabPanels:Ze.Z,QTabPanel:Ie.Z,QTable:Pe.Z,QTr:Qe.Z,QTh:Ne.Z,QTd:Oe.Z,QDialog:Ve.Z,QCard:De.Z,QCardSection:Ae.Z,QAvatar:Ee.Z,QSpace:je.Z,QCardActions:Fe.Z}),Ge()(_e,"directives",{ClosePopup:Me.Z})}}]);