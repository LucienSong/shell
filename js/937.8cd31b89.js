"use strict";(globalThis["webpackChunkshell_org"]=globalThis["webpackChunkshell_org"]||[]).push([[937],{60937:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var n=a(59835),l=a(86970);const s={class:"row items-start q-gutter-xs justify-evenly q-pa-none",style:{width:"100%","max-width":"800px","min-width":"300px"}},o={class:"full-width q-py-md q-px-none"},u={class:"column"},r={class:"q-pt-md"},i=["src"],d={class:"column"},p=(0,n.Uk)(" transfer ");function c(e,t,a,c,m,y){const f=(0,n.up)("q-icon"),w=(0,n.up)("q-btn"),v=(0,n.up)("q-input"),b=(0,n.up)("q-item-section"),g=(0,n.up)("q-item-label"),h=(0,n.up)("q-item"),k=(0,n.up)("q-list"),T=(0,n.up)("q-menu"),_=(0,n.up)("q-avatar"),x=(0,n.up)("q-page"),W=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(x,{class:"row items-start justify-evenly"},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n._)("div",o,[(0,n._)("div",u,[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{filled:"",type:"text",modelValue:c.transferTo,"onUpdate:modelValue":t[0]||(t[0]=e=>c.transferTo=e),modelModifiers:{string:!0},debounce:"200",label:"Address:","stack-label":"",class:"full-width text-h6 text-mono"},{append:(0,n.w5)((()=>[(0,n.Wm)(w,{flat:"",onClick:c.pasteAddr},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{name:"las la-paste"})])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{filled:"",type:"number",modelValue:c.transferAmount,"onUpdate:modelValue":t[1]||(t[1]=e=>c.transferAmount=e),modelModifiers:{number:!0},debounce:"200",label:"Balance: "+c.tokenBalance,"stack-label":"",class:"full-width text-h6 text-mono"},{append:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n.Wm)(w,{dense:"",flat:"",color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(c.vaults[c.currentVault].name)+" ",1),(0,n.Wm)(f,{class:"q-pl-sm",name:"las la-angle-down",size:"12px",color:"grey"}),(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.vaults,(e=>((0,n.wg)(),(0,n.j4)(k,{key:e.name,style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:"",class:"q-pl-xs",onClick:t=>{c.currentVault=c.vaults.indexOf(e),c.getBalance()}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[W]])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,n.Wm)(w,{dense:"",flat:"",color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(c.store.selectedToken.toUpperCase())+" ",1),(0,n.Wm)(f,{class:"q-pl-sm",name:"img:tokens/"+c.store.selectedToken.toLocaleLowerCase()+".png"},null,8,["name"]),(0,n.Wm)(f,{class:"q-pl-sm",name:"las la-angle-down",size:"12px",color:"grey"}),(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.tokenList,(e=>((0,n.wg)(),(0,n.j4)(k,{key:e,style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:"",class:"q-pl-xs",onClick:t=>{c.store.selectedToken=e,c.getBalance()}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{size:"md"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:"tokens/"+e+".png"},null,8,i)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[W]])])),_:2},1024)))),128))])),_:1})])),_:1})])])),_:1},8,["modelValue","label"])])),_:1})])),_:1})]),(0,n._)("div",d,[(0,n.Wm)(w,{"no-caps":"",color:"primary",class:"full-width text-bold text-h6",onClick:t[2]||(t[2]=e=>c.transfer())},{default:(0,n.w5)((()=>[p])),_:1})])])])])),_:1})}var m=a(60499),y=a(65457),f=a(19302),w=a(29941),v=a(17779),b=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{r(n.next(e))}catch(t){s(t)}}function u(e){try{r(n["throw"](e))}catch(t){s(t)}}function r(e){e.done?a(e.value):l(e.value).then(o,u)}r((n=n.apply(e,t||[])).next())}))};const g=a(67489),h=a(66472),k={title:"Backend"},T={name:"BackendPage",meta:k,components:{},setup(){const e=(0,f.Z)();e.dark.set(!0),(0,y.Z)(k);const t=(0,w.v)(),a=t.web3;var l=(0,m.iH)(0),s=(0,m.iH)(),o=(0,m.iH)(""),u=[{name:"RUG",address:"0x3e9e07701d8e7f305d0b99f33f3302a0106ed6c7",balance:(0,m.iH)(["0","0","0"])},{name:"DICE",address:"0xd9777c70820ec8deb49b71bb374ff49b9a455a4b",balance:(0,m.iH)(["0","0","0"])}],r=(0,n.Fl)((()=>{var e=[];for(let a=0;a<t.token.length;a++)e.push(t.token[a].symbol);return e})),i=(0,n.Fl)((()=>{var e=t.selectedToken.toUpperCase(),a="0";switch(e){case"BUSD":a=u[l.value].balance.value[1];case"SHELL":a=u[l.value].balance.value[0];default:a=u[l.value].balance.value[2]}return a+" "+e}));function d(){return b(this,void 0,void 0,(function*(){v.log("updateVault"),p()}))}function p(){return b(this,void 0,void 0,(function*(){const e=t.selectedToken.toUpperCase();if("TT"==e){const e=yield a.eth.getBalance(u[l.value].address),t=a.utils.fromWei(e,"ether");return u[l.value].balance.value[2]=t,v.log("ETH Balance of",u[l.value].name," is: ",t),e}{const n="BUSD"==e?1:0,s=t.token[n].contract,o=new a.eth.Contract(g,s),r=yield o.methods.balanceOf(u[l.value].address).call(),i=a.utils.fromWei(r,"ether");return u[l.value].balance.value[n]=i,v.log(e,"Balance of",u[l.value].name,"is: ",i),r}}))}function c(){return b(this,void 0,void 0,(function*(){const e=t.web3,n="SHELL"==t.selectedToken.toUpperCase()?0:"BUSD"==t.selectedToken.toUpperCase()?1:2,r=a.utils.toWei(s.value.toString(),"ether"),i=u[l.value].address,d=t.token[n].contract,c=new a.eth.Contract(h,i);v.log("Transfer",s,"to",o.value);let m=c.methods.transfer(d,o.value,r),y=m.encodeABI();e.eth.sendTransaction({from:t.account,to:u[l.value].address,value:0,gas:15e4,gasPrice:t.gasPrice,data:y}).on("transactionHash",(e=>{v.log("transactionHash: ",e)})).on("receipt",(e=>{v.log("receipt: ",e),p()})).on("error",(e=>{v.log("tx transfer",e)}))}))}function T(){v.log("pasteAddr"),o.value="",navigator.clipboard.readText().then((e=>{o.value=e}))}return p(),{store:t,tokenList:r,tokenBalance:i,currentVault:l,transferAmount:s,transferTo:o,vaults:u,transfer:c,updateVault:d,getBalance:p,pasteAddr:T}}};var _=a(11639),x=a(69885),W=a(490),q=a(76749),C=a(66611),B=a(24455),M=a(22857),U=a(97858),Z=a(13246),H=a(33115),L=a(61357),Q=a(62146),V=a(69984),A=a.n(V);const G=(0,_.Z)(T,[["render",c]]),O=G;A()(T,"components",{QPage:x.Z,QItem:W.Z,QItemSection:q.Z,QInput:C.Z,QBtn:B.Z,QIcon:M.Z,QMenu:U.Z,QList:Z.Z,QItemLabel:H.Z,QAvatar:L.Z}),A()(T,"directives",{ClosePopup:Q.Z})},66472:e=>{e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"newGame","type":"address"}],"name":"addGame","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newGame","type":"address"}],"name":"GameAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"removedGame","type":"address"}],"name":"GameRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"receiveETH","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"game","type":"address"}],"name":"removeGame","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"toggleGameIsLive","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"games","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"isGame","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')}}]);