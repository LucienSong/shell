"use strict";(globalThis["webpackChunkshell_org"]=globalThis["webpackChunkshell_org"]||[]).push([[945],{60945:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var n=a(59835),l=a(86970);const s={class:"row items-start q-gutter-xs justify-evenly q-pa-none",style:{width:"100%","max-width":"800px","min-width":"300px"}},o={class:"full-width q-py-md q-px-none"},i={class:"column"},u={class:"q-pt-md"},r=["src"],d={class:"column"},c={class:"column"},p=(0,n.Uk)(" transfer "),m={class:"column"},f={class:"column"},y=(0,n.Uk)(" Set ");function w(e,t,a,w,b,v){const g=(0,n.up)("q-icon"),h=(0,n.up)("q-item-label"),k=(0,n.up)("q-item-section"),_=(0,n.up)("q-item"),x=(0,n.up)("q-list"),T=(0,n.up)("q-menu"),C=(0,n.up)("q-btn"),W=(0,n.up)("q-avatar"),B=(0,n.up)("q-input"),q=(0,n.up)("q-page"),A=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(q,{class:"row items-start justify-evenly"},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n._)("div",o,[(0,n._)("div",i,[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B,{filled:"",type:"number",modelValue:w.transferAmount,"onUpdate:modelValue":t[0]||(t[0]=e=>w.transferAmount=e),modelModifiers:{number:!0},debounce:"200",label:"Balance: "+w.tokenBalance,"stack-label":"",class:"full-width text-h6 text-mono"},{append:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.Wm)(C,{dense:"",flat:"",color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(w.vaults[w.currentVault].name)+" ",1),(0,n.Wm)(g,{class:"q-pl-sm",name:"las la-angle-down",size:"12px",color:"grey"}),(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.vaults,(e=>((0,n.wg)(),(0,n.j4)(x,{key:e.name,style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(_,{clickable:"",class:"q-pl-xs",onClick:t=>{w.currentVault=w.vaults.indexOf(e),w.getBalance()}},{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[A]])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,n.Wm)(C,{dense:"",flat:"",color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(w.store.selectedToken.toUpperCase())+" ",1),(0,n.Wm)(g,{class:"q-pl-sm",name:"img:tokens/"+w.store.selectedToken.toLocaleLowerCase()+".png"},null,8,["name"]),(0,n.Wm)(g,{class:"q-pl-sm",name:"las la-angle-down",size:"12px",color:"grey"}),(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.tokenList,(e=>((0,n.wg)(),(0,n.j4)(x,{key:e,style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(_,{clickable:"",class:"q-pl-xs",onClick:t=>{w.store.selectedToken=e,w.getBalance()}},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{size:"md"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:"tokens/"+e+".png"},null,8,r)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[A]])])),_:2},1024)))),128))])),_:1})])),_:1})])])),_:1},8,["modelValue","label"])])),_:1})])),_:1})]),(0,n._)("div",d,[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B,{filled:"",type:"text",modelValue:w.transferTo,"onUpdate:modelValue":t[1]||(t[1]=e=>w.transferTo=e),modelModifiers:{string:!0},debounce:"200",label:"Address:","stack-label":"",class:"full-width text-h6 text-mono"},{append:(0,n.w5)((()=>[(0,n.Wm)(C,{flat:"",onClick:w.pasteAddr},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"las la-paste"})])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})])),_:1})]),(0,n._)("div",c,[(0,n.Wm)(C,{"no-caps":"",color:"primary",class:"full-width text-bold text-h6",onClick:t[2]||(t[2]=e=>w.transfer())},{default:(0,n.w5)((()=>[p])),_:1})]),(0,n._)("div",m,[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(B,{filled:"",type:"number",modelValue:w.gameFraction,"onUpdate:modelValue":t[3]||(t[3]=e=>w.gameFraction=e),modelModifiers:{string:!0},debounce:"200",label:"Game Fraction: 1/"+w.gameFraction,"stack-label":"",class:"full-width text-h6 text-mono"},{append:(0,n.w5)((()=>[(0,n.Wm)(C,{flat:"",onClick:e=>null},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"las la-dice"})])),_:1})])),_:1},8,["modelValue","label"])])),_:1})])),_:1})]),(0,n._)("div",f,[(0,n.Wm)(C,{"no-caps":"",color:"primary",class:"full-width text-bold text-h6",onClick:t[4]||(t[4]=e=>w.setFraction())},{default:(0,n.w5)((()=>[y])),_:1})])])])])),_:1})}var b=a(60499),v=a(65457),g=a(19302),h=a(29941),k=a(17779),_=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function i(e){try{u(n["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):l(e.value).then(o,i)}u((n=n.apply(e,t||[])).next())}))};const x=a(67489),T=a(66472),C=a(16518),W=a(42379),B={title:"Backend"},q={name:"BackendPage",meta:B,components:{},setup(){const e=(0,g.Z)();e.dark.set(!0),(0,v.Z)(B);const t=(0,h.v)(),a=t.web3;var l=(0,b.iH)(0),s=(0,b.iH)(),o=(0,b.iH)("0xcFbBcAC2CA63A42cE7eB2dCA3f7Ce785f7c184e5"),i=(0,b.iH)("0"),u=(0,b.iH)(1),r=[{name:"RUG",address:"0x3e9e07701d8e7f305d0b99f33f3302a0106ed6c7",game:"0xfc5C8cF76503174639aAe3dDDd579DcC5b2B26E2",abi:W},{name:"DICE",address:"0xd9777c70820ec8deb49b71bb374ff49b9a455a4b",game:"0xfc5C8cF76503174639aAe3dDDd579DcC5b2B26E2",abi:C}],d=(0,n.Fl)((()=>{var e=[];for(let a=0;a<t.token.length;a++)e.push(t.token[a].symbol);return e})),c=(0,n.Fl)((()=>{var e=t.selectedToken.toUpperCase();return parseFloat(i.value).toFixed(2)+" "+e}));function p(){return _(this,void 0,void 0,(function*(){k.log("updateVault"),m()}))}function m(){return _(this,void 0,void 0,(function*(){const e=t.selectedToken.toUpperCase();if("TT"==e){const e=yield a.eth.getBalance(r[l.value].address),t=a.utils.fromWei(e,"ether");i.value=t,k.log("ETH Balance of",r[l.value].name," is: ",t)}else{const n="BUSD"==e?1:0,s=t.token[n].contract,o=new a.eth.Contract(x,s),u=yield o.methods.balanceOf(r[l.value].address).call(),d=a.utils.fromWei(u,"ether");i.value=d,k.log(e,"Balance of",r[l.value].name,"is: ",d)}k.log("Balance:",c.value)}))}function f(){return _(this,void 0,void 0,(function*(){const e=t.web3,n="SHELL"==t.selectedToken.toUpperCase()?0:"BUSD"==t.selectedToken.toUpperCase()?1:2,i=a.utils.toWei(s.value.toString(),"ether"),u=r[l.value].address,d=t.token[n].contract,c=new a.eth.Contract(T,u);k.log("Transfer",s,"to",o.value);let p=c.methods.transfer(d,o.value,i),f=p.encodeABI();e.eth.sendTransaction({from:t.account,to:r[l.value].address,value:0,gas:333333,gasPrice:t.gasPrice,data:f}).on("transactionHash",(e=>{k.log("transactionHash: ",e)})).on("receipt",(e=>{k.log("receipt: ",e),m()})).on("error",(e=>{k.log("tx transfer",e)}))}))}function y(){return _(this,void 0,void 0,(function*(){const e=t.web3,n=r[l.value].game,s=new a.eth.Contract(r[l.value].abi,n);k.log("Set Fraction",u);let o=s.methods.setHouseFraction(u.value),i=o.encodeABI();e.eth.sendTransaction({from:t.account,to:r[l.value].game,value:0,gas:333333,gasPrice:t.gasPrice,data:i}).on("transactionHash",(e=>{k.log("transactionHash: ",e)})).on("receipt",(e=>{k.log("receipt: ",e),m()})).on("error",(e=>{k.log("tx transfer",e)}))}))}function w(){k.log("pasteAddr"),o.value="",navigator.clipboard.readText().then((e=>{o.value=e}))}return m(),{store:t,tokenList:d,tokenBalance:c,currentVault:l,currentBalance:i,transferAmount:s,transferTo:o,gameFraction:u,vaults:r,transfer:f,setFraction:y,updateVault:p,getBalance:m,pasteAddr:w}}};var A=a(11639),F=a(69885),M=a(490),U=a(76749),H=a(66611),V=a(24455),Z=a(22857),D=a(97858),G=a(13246),Q=a(33115),I=a(61357),L=a(62146),O=a(69984),P=a.n(O);const S=(0,A.Z)(q,[["render",w]]),j=S;P()(q,"components",{QPage:F.Z,QItem:M.Z,QItemSection:U.Z,QInput:H.Z,QBtn:V.Z,QIcon:Z.Z,QMenu:D.Z,QList:G.Z,QItemLabel:Q.Z,QAvatar:I.Z}),P()(q,"directives",{ClosePopup:L.Z})},66472:e=>{e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"newGame","type":"address"}],"name":"addGame","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newGame","type":"address"}],"name":"GameAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"removedGame","type":"address"}],"name":"GameRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"receiveETH","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"game","type":"address"}],"name":"removeGame","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"toggleGameIsLive","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"games","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"isGame","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')}}]);